<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Cotización</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        button {
            margin: 10px 0;
            padding: 10px;
        }
        #logo-img {
            display: none; /* Ocultar la imagen en la página */
        }
    </style>
</head>
<body>
    <h1>Generador de Cotización</h1>

    <!-- Precargar el logo en el HTML -->
    <img id="logo-img" src="https://via.placeholder.com/135x65" alt="Logo">

    <!-- Botón para descargar PDF -->
    <button onclick="downloadPDF()">Descargar PDF</button>

    <!-- Incluir solo jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        const { jsPDF } = window.jspdf;

        function downloadPDF() {
            try {
                const doc = new jsPDF();

                // Obtener la imagen precargada del HTML
                const logo = document.getElementById('logo-img');

                // Agregar texto básico
                doc.setFontSize(12);
                doc.text("Prueba de Cotización", 10, 10);

                // Agregar el logo si está disponible
                if (logo && logo.complete && logo.naturalWidth !== 0) {
                    const pageWidth = doc.internal.pageSize.getWidth();
                    const logoWidth = 135;
                    const logoHeight = 65;
                    const x = (pageWidth - logoWidth) / 2;
                    doc.addImage(logo, 'JPEG', x, 20, logoWidth, logoHeight);
                } else {
                    doc.text("Logo no cargado", 10, 20);
                }

                // Guardar el PDF
                doc.save("cotizacion_richy_entertainment.pdf");
            } catch (error) {
                console.error("Error al generar el PDF:", error);
                alert("Hubo un error al generar el PDF. Revisa la consola para más detalles.");
            }
        }
    </script>
</body>
</html>
